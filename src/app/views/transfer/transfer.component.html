<mat-card
  >
  <!-- class="alb-form" -->
  <form
    class="alb-flex"
    [formGroup]="form"
    (ngSubmit)="onSubmit()">
  <button mat-button
  type="button"
  (click)="openDialog()"
  > Lista Contatti </button>

    <mat-form-field class="alb-textfield">
      <input
        matInput
        name="name"
        formControlName="name"
        placeholder="Nome">
    </mat-form-field>

    <mat-form-field class="alb-textfield">
      <input
        matInput
        name="surname"
        formControlName="surname"
        placeholder="Cognome">
    </mat-form-field>

    <mat-form-field class="alb-textfield">
      <input
        matInput
        name="iban"
        formControlName="iban"
        placeholder="IBAN">
    </mat-form-field>

    <mat-form-field class="alb-textfield">
      <input
        matInput
        name="amount"
        type="text"
        formControlName="amount"
        placeholder="Importo">
    </mat-form-field>

    <mat-form-field class="alb-textfield">
      <mat-select
        placeholder="Card"
        formControlName="cardId"
        name="card">
        <mat-option>--</mat-option>
        <mat-option
          *ngFor="let card of cards"
          [value]="card._id"
          >{{card.number | cardify}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-error
      *ngIf="form.get('cardId')?.errors?.['noCard']">
      Carta Invalida
    </mat-error>
    <mat-error
      *ngIf="form.errors?.['outOfMoney']">
      Non hai abbastanza denaro
    </mat-error>
    <!-- <div>
      {{form.get('cardId')?.errors | json}}
    </div> -->
    <!-- <div>
      Form valido: {{form.valid}}
      Form invalido: {{form.invalid}}
    </div> -->

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="!form.valid"
      (click)="openSnackBar('Trasferimento effettuato!','OK')"
      >Avvia Trasferimento</button>

  </form>
</mat-card>
